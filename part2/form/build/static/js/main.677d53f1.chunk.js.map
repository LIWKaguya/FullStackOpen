{"version":3,"sources":["services/base.js","Person.js","App.js","index.js"],"names":["baseUrl","allActions","getAll","axios","get","create","newObject","post","terminate","Object","delete","id","update","put","Person","person","name","number","onClick","window","confirm","formServices","catch","Unsuscessfully","unsuscessMessage","className","Suscessfully","suscessMessage","Filter","newTerm","handles","value","onChange","event","Form","addPerson","news","onSubmit","required","type","ShowPersons","persons","map","App","props","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewTerm","setSuscessMessage","setUnsuscessMessage","useEffect","then","response","data","target","filteredPersons","filter","toLowerCase","includes","preventDefault","some","per","identical","error","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.677d53f1.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst terminate = (Object) => {\r\n    return axios.delete(`${baseUrl}/${Object.id}`, Object)\r\n}\r\n\r\nconst update = (Object) => {\r\n    return axios.put(`${baseUrl}/${Object.id}`, Object)\r\n}\r\n\r\nconst allActions = {getAll,  create, terminate, update}\r\n\r\nexport default allActions","import {React} from 'react'\r\nimport formServices from './services/base'\r\n\r\nconst Person = ({ person }) => {\r\n  const confirmDelete = () => {\r\n    formServices.terminate(person)\r\n    .catch()\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <li>{person.name} {person.number}\r\n    <button onClick={() => window.confirm(`Delete ${person.name} ?`) ? confirmDelete() : <></>}>\r\n      Delete\r\n    </button>\r\n    </li>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Person","import React, { useState, useEffect } from 'react'\nimport formServices from './services/base'\nimport Person from './Person'\nimport './index.css'\n\nconst Unsuscessfully = ({unsuscessMessage}) => {\n  if(unsuscessMessage === null)\n  {\n    return null\n  }\n  return (\n      <div className=\"error\">\n        {unsuscessMessage}\n      </div>\n    )\n}\n\nconst Suscessfully = ({suscessMessage}) => {\n  if(suscessMessage === null) {\n    return null\n  }\n  else\n  {\n    return (\n      <p className=\"suscess\">{suscessMessage}</p>\n    )\n  }\n}\n\nconst Filter = ({newTerm, handles}) => {\n  return (\n    <p>Filter with: <input value={newTerm} onChange={(event) => handles[2](event)} /></p>\n  )\n}\n\nconst Form = ({addPerson, handles, news}) => {\n  return (\n    <form onSubmit={addPerson}>\n        <div>\n          Name: <input value={news[0]} onChange={handles[0]} required/> <br />\n          Number: <input value={news[1]} onChange={handles[1]} required />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n    </form>\n  )\n}\n\nconst ShowPersons = ({persons}) => {\n  return (\n    persons.map(person => <Person key={person.name} person={person} />)\n  )\n}\n\nconst App = (props) => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newTerm, setNewTerm ] = useState('')\n  const [ suscessMessage, setSuscessMessage ] = useState(null)\n  const [ unsuscessMessage, setUnsuscessMessage ] = useState(null)\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleTermChange = (event) => {\n    setNewTerm(event.target.value)\n  }\n\n  useEffect(() => {\n    formServices.getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson= (event) => {\n    event.preventDefault()\n    const person = {\n      name: newName,\n      number: newNumber\n    }\n    if(persons.some(per => per.name === newName))\n    {\n      if(window.confirm(`${person.name} is already in the phonebook. Do you want to update the number ?`))\n      {\n        const identical = persons.filter(per => per.name === newName)\n        person.id = identical[0].id  \n        formServices.update(person)\n        .catch(error => {\n          setUnsuscessMessage(`${person.name} has already been deleted`)\n          setTimeout(() => {\n            setUnsuscessMessage(null)\n          }, 5000)\n      })\n      }\n    }\n    else\n    {\n      formServices.create(person)\n      .then(setPersons(persons.concat(person)))\n      .then(setSuscessMessage(`${person.name} added to the phone book`))\n      .then(setTimeout(() => {setSuscessMessage(null)}, 5000))\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handles = [handleNameChange, handleNumberChange, handleTermChange]\n  const news = [newName, newNumber, newTerm]\n  const filteredPersons = persons.filter(person => person.name.toLowerCase().includes(newTerm.toLowerCase()))\n\n  return (\n    <div>\n      <Suscessfully suscessMessage={suscessMessage}/>\n      <Unsuscessfully unsuscessMessage={unsuscessMessage}/>\n      <h1>Phonebook</h1>\n      <Filter newTerm={newTerm} handles={handles}/>\n      <h1>Add a new</h1>\n      <Form addPerson={addPerson} handles={handles} news={news}/>\n      <h1>Numbers</h1>\n      <ShowPersons persons={filteredPersons} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, \ndocument.getElementById('root'))"],"sourceRoot":""}